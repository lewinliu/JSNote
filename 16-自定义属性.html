<!--
 * @Author: LLW
 * @Date: 2022-06-06 10:21:31
 * @LastEditors: LLW
 * @LastEditTime: 2022-06-06 10:42:10
 * @Description: 请填写简介
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>自定义属性</title>
</head>

<body>

    <!-- 
    setAttribute / getAttribute / removeAttribute 
    设置/获取/移除元素的自定义属性信息(这种方式是把自定义属性放到元素结构上) -->


    <button>按钮1</button>
    <button>按钮2</button>
    <button>按钮3</button>

    <!-- IMPORT JS -->
    <script>

        var btnList = document.querySelectorAll('button');

        for (var i = 0; i < btnList.length; i++) {

            /* 
            // 设置自定义属性:元素对象.属性名=属性值(原理是向元素对象对应的推内左中添加了一个属性)
            btnList[i].mIndex = i;
            btnList[i].onclick = function () {
                // 获取自定义属性:元素对象.属性名(原理是从堆内存中获取到对应的属性值)
                alert(this.mIndex);
            } */

            // 设置自定义属性:基于 setAttribute 是把属性信息写到了元素标签的结构上(在结构中可以看到的)，并没有放到元素对象对应的堆内存中.
            btnList[i].setAttribute('data_index', i);
            btnList[i].onclick = function () {
                // 基于 getAttribute 可以把结构上存储的自定义属性值获取到
                let data_index = this.getAttribute('data_index');
                alert(data_index !== null ? data_index : 'data_index已被删除');

            }
            // 移除属性
            btnList[1].removeAttribute('data_index');
        }

    </script>

</body>

</html>
